<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="color-scheme" content="dark" />
    <title>Crypto Auto Docs</title>
    <link rel="stylesheet" href="./styles/styles.css" />
  </head>
  <body>
    <div id="splash" class="splash">
      <div class="spinner"></div>
      <div class="splash-title">Crypto Auto Docs</div>
      <div class="splash-sub">Preparing workspace…</div>
    </div>

    <main id="app" class="app hidden">
      <header class="topbar">
        <h1>Crypto Auto Docs</h1>
      </header>

      <section class="tiles">
        <button
          class="tile weekly"
          data-mode="weekly"
          aria-label="Weekly Performance"
        >
          <div class="tile-inner">
            <div class="tile-icon">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M3 3v18h18" />
                <path d="M7 14l4-4 3 3 6-6" />
              </svg>
            </div>
            <h2>Weekly Performance</h2>
            <p>Update weekly performance portfolio</p>
          </div>
        </button>

        <button
          class="tile monthly"
          data-mode="monthly"
          aria-label="Monthly / On-chain"
        >
          <div class="tile-inner">
            <div class="tile-icon">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <rect x="3" y="3" width="7" height="7" rx="1.5" />
                <rect x="14" y="3" width="7" height="7" rx="1.5" />
                <rect x="9" y="14" width="7" height="7" rx="1.5" />
                <path d="M10 6.5h4" />
                <path d="M17.5 10v4" />
                <path d="M9 17.5h-2" />
              </svg>
            </div>
            <h2>Monthly Performance</h2>
            <p>Update monthly CVR</p>
          </div>
        </button>
      </section>

      <section id="consoleDrawer" class="drawer hidden">
        <header class="drawer-head">
          <div class="drawer-title">
            <span id="runIcon" class="run-icon hidden"></span>
            <span id="runLabel">Console</span>
            <small id="runStatus" class="muted"></small>
          </div>
          <div class="drawer-actions">
            <button id="btnStop" class="danger hidden">Stop</button>
            <button id="btnCollapse" class="ghost">Collapse</button>
            <button id="btnCopy" class="ghost">Copy</button>
            <button id="btnClear" class="ghost">Clear</button>
            <a id="download" class="primary" href="#" download hidden
              >Download result</a
            >
          </div>
        </header>

        <div id="logWrap" class="logwrap">
          <ul id="logList" class="loglist"></ul>
        </div>
      </section>

      <footer class="footer">
        © 2025 Matej Hozlár · Internal tooling · All rights reserved
      </footer>
    </main>

    <div id="setupModal" class="modal hidden" role="dialog" aria-modal="true">
      <div class="modal-card">
        <header class="modal-head">
          <h3 id="modalTitle">Setup</h3>
          <button id="modalClose" class="iconbtn" aria-label="Close">✕</button>
        </header>

        <div class="modal-body">
          <div class="field">
            <label for="apiKey">CoinMarketCap API Key</label>
            <input id="apiKey" type="password" placeholder="Enter API key…" />
          </div>

          <div id="weeklyFields" class="group hidden">
            <div class="field">
              <label>Weekly file</label>
              <div class="pickrow">
                <input
                  id="weeklyPath"
                  type="text"
                  placeholder="Weekly_Performance_PORTFOLIO.xlsx"
                  readonly
                />
                <button id="pickWeekly" class="ghost">Choose…</button>
              </div>
            </div>
          </div>

          <div id="monthlyFields" class="group hidden">
            <div class="field">
              <label>Monthly file</label>
              <div class="pickrow">
                <input
                  id="monthlyPath"
                  type="text"
                  placeholder="Monthly_Performance_CVR.xlsx"
                  readonly
                />
                <button id="pickMonthly" class="ghost">Choose…</button>
              </div>
            </div>
          </div>
        </div>

        <footer class="modal-foot">
          <button id="modalCancel" class="ghost">Cancel</button>
          <button id="modalStart" class="primary">Start</button>
        </footer>
      </div>
    </div>

    <script type="module" src="./scripts/renderer.js"></script>
  </body>
</html>
